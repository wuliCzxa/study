00 7C00     MOV A, #00H          ; ʼ
02 80       MOV R0, A            ; ʼR0Aԭ洢
03 81       MOV R1, A            ; ʼR1Bԭ洢
04 82       MOV R2, A            ; ʼR2AĲ洢
05 83       MOV R3, A            ; ʼR3BĲ洢
            
06 88D0     MOV 0D0H, A          ; ʼڴ洢ַ0D0H
08 88D1     MOV 0D1H, A          ; ʼڴ洢ַ0D1H
0A 88D2     MOV 0D2H, A          ; ʼڴ洢ַ0D2H
0C 88E0     MOV 0E0H, A          ; Aλ洢
0E 88E1     MOV 0E1H, A          ; Aλȡ洢
10 88E2     MOV 0E2H, A          ; Bλ洢
12 88E3     MOV 0E3H, A          ; Bλȡ洢
14 88E4     MOV 0E4H, A          ; ӷλ洢
16 88E5     MOV 0E5H, A          ; ӷλȡ洢
            
            INPUT:               ; ԭ
18 7C50         MOV A, #50H      ; Aԭ(6E,50,94,94,72,94,00)
1A 88D0         MOV 0D0H, A      ; 洢Aַ
1C 7C30         MOV A, #30H      ; Bԭ(0A,3C,F8,88,1E,0A,00)
1E 88D1         MOV 0D1H, A      ; 洢Bַ
20 A022         JC INPUT_CHECK
            
            INPUT_CHECK:
22 78D0         MOV A, 0D0H      ; A
24 5CFF         AND A, #0FFH     ; ȷЧԼ(7λΧ)
26 A0AE         JC INPUT_ERROR   ; ת
28 80           MOV R0, A        ; 洢R0
            
29 78D1         MOV A, 0D1H      ; B
2B 5CFF         AND A, #0FFH     ; ȷЧԼ(7λΧ)
2D A0AE         JC INPUT_ERROR   ; ת
2F 81           MOV R1, A        ; 洢R1
            
            CONVERT_A:
30 70           MOV A, R0        ; Aԭ
31 A440         JZ ZERO_A        ; AΪ0ת
33 5C80         AND A, #80H      ; λ
35 A43D         JZ POS_A         ; Ϊ
37 70           MOV A, R0
38 E4           CPL A            ; Ϊȡ
39 1C81         ADD A, #81H      ; 1õ
3B AC42         JMP SAVE_A
            
            POS_A:
3D 70           MOV A, R0        ; ֱӽԭ븳ֵΪ
3E AC42         JMP SAVE_A
            
            ZERO_A:
40 7C00         MOV A, #00H      ; AΪ0ʱҲ0
            
            SAVE_A:
42 82           MOV R2, A        ; AĲ洢R2
            
            CONVERT_B:
43 7C00         MOV A, #00H
45 11           ADD A, R1        ; Bԭ
46 A455         JZ ZERO_B        ; BΪ0ת
48 5C80         AND A, #80H      ; λ
4A A452         JZ POS_B         ; Ϊ
4C 71           MOV A, R1
4D E4           CPL A            ; Ϊȡ
4E 1C81         ADD A, #81H      ; 1õ
50 AC57         JMP SAVE_B
            
            POS_B:
52 71           MOV A, R1        ; ֱӽԭ븳ֵΪ
53 AC57         JMP SAVE_B
            
            ZERO_B:
55 7C00         MOV A, #00H      ; BΪ0ʱҲ0
            
            SAVE_B:
57 83           MOV R3, A        ; BĲ洢R3
            
            ADD_OPERATION:
                ; ӷ
58 72           MOV A, R2        ; A
59 23           ADDC A, R3       ; B벢ǽλ
5A 88D2         MOV 0D2H, A      ; ݴ
            
                ; ȡͼ
5C 72           MOV A, R2        ; ȡAλ
5D 5C80         AND A, #80H      ; ȡλ
5F 88E0         MOV 0E0H, A      ; 洢λ
61 E4           CPL A            ; ȡ
62 88E1         MOV 0E1H, A      ; 洢λȡ
            
64 73           MOV A, R3        ; ȡBλ
65 5C80         AND A, #80H      ; ȡλ
67 88E2         MOV 0E2H, A      ; 洢λ
69 E4           CPL A            ; ȡ
6A 88E3         MOV 0E3H, A      ; 洢λȡ
            
6C 78D2         MOV A, 0D2H      ; ȡӷλ
6E 5C80         AND A, #80H      ; ȡλ
70 88E4         MOV 0E4H, A      ; 洢λ
72 E4           CPL A            ; ȡ
73 88E5         MOV 0E5H, A      ; 洢λȡ
            
                ; ʽ
75 78E0         MOV A, 0E0H      ; Aλ
77 58E2         AND A, 0E2H      ; Bλ
79 58E5         AND A, 0E5H      ; ӷλȡ
7B 88C0         MOV 0C0H, A      ; ݴм1
            
7D 78E1         MOV A, 0E1H      ; Aλȡ
7F 58E3         AND A, 0E3H      ; Bλȡ
81 58E4         AND A, 0E4H      ; ӷλ
83 68C0         OR A, 0C0H       ; ϲ
85 A499         JZ STORE_RESULT  ; Ϊ0
            
                ; 绹
87 78E0         MOV A, 0E0H      ; Aλ
89 58E2         AND A, 0E2H      ; Bλ
8B 58E5         AND A, 0E5H      ; ӷλȡ
8D A494         JZ OVERFLOW_UPPER; Ϊ0紦
            
            OVERFLOW_LOWER:
                ; 紦
8F 7CFE         MOV A, #0FEH     ; ־
91 C4           OUT              ; 
92 ACAC         JMP OVER
            
            OVERFLOW_UPPER:
                ;紦
94 7CFF         MOV A, #0FFH     ; ־
96 C4           OUT              ; 
97 ACAC         JMP OVER
            
            STORE_RESULT:
                ; 
99 78D2         MOV A, 0D2H      ; ȡ
9B 5C80         AND A, #80H      ; λ
9D A4A7         JZ POS_RESULT    ; Ϊ
9F 78D2         MOV A, 0D2H
A1 4C81         SUBC A, #81H      
A3 E4           CPL A            ; תԭ
A4 C4           OUT              ; 
A5 ACAC         JMP OVER
                    
            POS_RESULT:
A7 78D2         MOV A, 0D2H      ; ֱӽԭ븳ֵΪ
A9 C4           OUT
AA ACAC         JMP OVER
                
            OVER:
AC ACAC         JMP OVER         ; 
               
            INPUT_ERROR:
                ; 봦״̬ 
AE 7CFF         MOV A, #0FFH     ; ־
B0 C4           OUT
B1 ACAC         JMP OVER
               
            
